<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<html>
<head>
<style>

</style>
<script type="text/javascript" src="jquery-git2.min.js"></script>
<script src="highcharts/highcharts.js"></script>
<script src="highcharts/exporting.js"></script>
<script type="text/javascript">
jQuery(document).ready(function() { 
$('#action-button').click(function() {
   $.ajax({
      url: 'http://localhost:3000/',
      data: {
         format: 'json'
      },
      error: function() {
         $('#info').html('<p>An error has occurred</p>');
      },
      dataType: 'json',
      success: function(result) {
         alert("success");
		 //alert(result);
		 
		  //var jStr = $.parseJSON(result);
		  //alert(jStr);
			
    $('#container').highcharts({
        chart: {
            type: 'column'
        },
        title: {
            text: 'World\'s largest cities per 2014'
        },
        xAxis: {
            type: 'category',
            labels: {
                rotation: -45,
                style: {
                    fontSize: '13px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Population (millions)'
            }
        },
        legend: {
            enabled: false
        },
        tooltip: {
            pointFormat: 'Population in 2008: <b>{point.y:.1f} millions</b>'
        },
        series: [{
            name: 'Population',
            data: result.data,
            dataLabels: {
                enabled: true,
                rotation: -90,
                color: '#FFFFFF',
                align: 'right',
                format: '{point.y:.1f}', // one decimal
                y: 10, // 10 pixels down from the top
                style: {
                    fontSize: '13px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        }]
    });
      },
      type: 'GET'
   });
});
})



</script>
</head>
<body>
<button id="action-button">Click me to load info!</button>
<div id="info"></div> 

<div id="container" style="min-width: 300px; height: 400px; margin: 0 auto"></div>
        
</body>
</html>