<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<html>
<head>
<style>

</style>
<script type="text/javascript" src="jquery-git2.min.js"></script>
<script src="highcharts/highcharts.js"></script>
<script src="highcharts/drilldown.js"></script>
<script src="highcharts/data.js"></script>
<script src="highcharts/exporting.js"></script>
<script src="column.js"></script>
<script src="pie.js"></script>
<script src="pie_dd.js"></script>
<script type="text/javascript">
jQuery(document).ready(function() {
 function getParam(){
		var params = {};
        pairs = document.URL.split('?').pop().split('&');
		for (var i = 0, p; i < pairs.length; i++) {
           p = pairs[i].split('=');
           params[ p[0] ] =  p[1];
		}     
		return params;
 }
 function setUrlPath(){
 	var params = getParam();
	var urlPath = "http://localhost:3000/";
 	if(params["data"] == "1")
 		urlPath = urlPath + "getAWDData";
 	else if (params["data"] == "2")
 		urlPath = urlPath + "getNSEStockData";
 	return urlPath 
 }
 function getData(){
 	$.ajax({
      url: setUrlPath(),
      data: {
         format: 'json'
      },
      error: function() {
         $('#info').html('<p>An error has occurred</p>');
      },
      dataType: 'json',
      success: function(result) {
		 //file:///C:/whsup/whupserver/public/what.html?data=1&typechart=1
		 var params = getParam();
		 var type = params["typechart"]
		 switch(parseInt(type)){
		 	case 1: 
		 	pie(result);
		 	break;
		 	case 2:
		 	column(result);
		 	break;
		 	case 3:
		 	piedd(result);
		 	break;
		 	default: 
		 	pie(result);
		 }
		 
	  },
      type: 'GET'
   });
 }
	getData();
})
</script>
</head>
<body>
<div id="info"></div> 
<div id="param"></div> 
<div id="log"></div> 

<div id="container" style="min-width: 300px; height: 400px; margin: 0 auto"></div>
        
</body>
</html>